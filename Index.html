<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <!-- Viewport gi√∫p web hi·ªÉn th·ªã ƒë·∫πp tr√™n ƒëi·ªán tho·∫°i -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thi·ªáp Ch√∫c M·ª´ng NƒÉm M·ªõi</title>

    <style>
        /* Reset + n·ªÅn trang */
        body {
            margin: 0;
            height: 100vh;
            background: radial-gradient(circle at top, #ffecd2, #fcb69f);
            font-family: 'Segoe UI', sans-serif;

            /* Canh gi·ªØa thi·ªáp */
            display: flex;
            justify-content: center;
            align-items: center;

            /* ·∫®n thanh cu·ªôn */
            overflow: hidden;
        }

        /* Khung t·∫°o hi·ªáu ·ª©ng 3D */
        .card-container {
            perspective: 1200px;
            z-index: 5;
        }

        /* Thi·ªáp */
        .card {
            width: 300px;
            height: 420px;
            position: relative;

            /* Cho ph√©p xoay 3D */
            transform-style: preserve-3d;
            transition: transform 1.2s;

            cursor: pointer;
        }

        /* Khi c√≥ class flip th√¨ xoay 180 ƒë·ªô */
        .card.flip {
            transform: rotateY(180deg);
        }

        /* M·∫∑t tr∆∞·ªõc & sau */
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;

            /* ·∫®n m·∫∑t sau khi ch∆∞a xoay */
            backface-visibility: hidden;

            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0,0,0,0.35);

            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
        }

        /* M·∫∑t tr∆∞·ªõc */
        .card-front {
            background: linear-gradient(135deg, #ff4e50, #f9d423);
            color: white;
            font-size: 24px;
            font-weight: bold;
        }

        /* M·∫∑t sau */
        .card-back {
            background: white;
            color: #e74c3c;

            /* Xoay s·∫µn 180 ƒë·ªô */
            transform: rotateY(180deg);

            font-size: 18px;
            line-height: 1.6;
        }

        .card-back span {
            display: block;
            font-size: 24px;
            margin-bottom: 10px;
        }

        /* Canvas ph√°o hoa */
        canvas {
            position: absolute;
            top: 0;
            left: 0;
        }

        /* Responsive cho ƒëi·ªán tho·∫°i */
        @media (max-width: 500px) {
            .card {
                width: 260px;
                height: 380px;
            }
        }
    </style>
</head>

<body>

<!-- Thi·ªáp -->
<div class="card-container">
    <div class="card" onclick="openCard()">

        <!-- M·∫∑t tr∆∞·ªõc -->
        <div class="card-face card-front">
            üéÜ Ch√∫c M·ª´ng NƒÉm M·ªõi üéÜ<br><br>
            <small>(Nh·∫•n ƒë·ªÉ m·ªü thi·ªáp)</small>
        </div>

        <!-- M·∫∑t sau -->
        <div class="card-face card-back">
            <span>üå∏ 2026 üå∏</span>
            <div id="message"></div>
        </div>

    </div>
</div>

<!-- Nh·∫°c T·∫øt Vi·ªát Nam -->
<audio id="music" loop preload="auto">
    <source src="long-phung-sum-vay.mp3" type="audio/mpeg">
</audio>


<!-- Canvas ph√°o hoa -->
<canvas id="fireworks"></canvas>

<script>
    /* ======================
       L·∫§Y T√äN T·ª™ LINK
       V√≠ d·ª•: ?name=Vy
    ====================== */

    const params = new URLSearchParams(window.location.search);
    const name = params.get("name") || "b·∫°n"; // N·∫øu kh√¥ng c√≥ name

    /* ======================
       X·ª¨ L√ù M·ªû THI·ªÜP
    ====================== */

    const card = document.querySelector(".card");
    const music = document.getElementById("music");
    const message = document.getElementById("message");

    function openCard() {
        // Xoay thi·ªáp
        card.classList.toggle("flip");

        // Ph√°t nh·∫°c (ch·ªâ ch·∫°y khi click ‚Üí kh√¥ng b·ªã ch·∫∑n)
        music.play();

        // Hi·ªÉn th·ªã l·ªùi ch√∫c theo t√™n trong link
        message.innerHTML = `
            Ch√∫c <b>${decodeURIComponent(name)}</b><br>
            NƒÉm m·ªõi an khang ‚Äì th·ªãnh v∆∞·ª£ng üßß<br>
            Gia ƒë√¨nh h·∫°nh ph√∫c, v·∫°n s·ª± nh∆∞ √Ω ‚ú®<br>
            Th√†nh c√¥ng v√† b√¨nh an su·ªët nƒÉm ‚ù§Ô∏è
        `;
    }

    /* ======================
       PH√ÅO HOA CANVAS
    ====================== */

    const canvas = document.getElementById("fireworks");
    const ctx = canvas.getContext("2d");

    function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    }
    resizeCanvas();

    const particles = [];

    function random(min, max) {
        return Math.random() * (max - min) + min;
    }

    function createFirework() {
        const x = random(0, canvas.width);
        const y = random(0, canvas.height / 2);

        const colors = ["#ff4e50", "#f9d423", "#00c9ff", "#92fe9d"];

        for (let i = 0; i < 40; i++) {
            particles.push({
                x: x,
                y: y,
                vx: random(-3, 3),
                vy: random(-3, 3),
                alpha: 1,
                color: colors[Math.floor(Math.random() * colors.length)]
            });
        }
    }

    function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        particles.forEach((p, i) => {
            p.x += p.vx;
            p.y += p.vy;
            p.alpha -= 0.02;

            ctx.globalAlpha = p.alpha;
            ctx.fillStyle = p.color;
            ctx.beginPath();
            ctx.arc(p.x, p.y, 2, 0, Math.PI * 2);
            ctx.fill();

            if (p.alpha <= 0) particles.splice(i, 1);
        });

        ctx.globalAlpha = 1;
        requestAnimationFrame(animate);
    }

    setInterval(createFirework, 800);
    animate();

    window.addEventListener("resize", resizeCanvas);
</script>

</body>
</html>
